<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookings - Chandan Prasad Travels</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1E3A8A, #A78BFA);
        }

        .nav-link {
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            transform: scale(1.1);
            color: #F97316;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }

        .btn-primary {
            background: linear-gradient(90deg, #F97316, #FBBF24);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(249, 115, 22, 0.5);
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
    </style>
</head>

<body class="min-h-screen text-gray-800">
    <!-- Navbar -->
    <header class="fixed w-full top-0 left-0 z-50 bg-gradient-to-r from-blue-900 to-purple-800 shadow-lg">
        <div class="container mx-auto flex justify-between items-center px-6 py-4">
            <a href="index.html" class="text-3xl font-bold text-white flex items-center space-x-2">
                <i class="fas fa-plane-departure text-orange-400"></i>
                <span
                    class="bg-gradient-to-r from-orange-400 to-yellow-400 bg-clip-text text-transparent">ChandanPrasad</span>
                Travels
            </a>
            <nav class="hidden md:flex space-x-8 text-lg font-semibold">
                <a href="index.html" class="nav-link text-white">Home</a>
                <a href="destinations.html" class="nav-link text-white">Destinations</a>
                <a href="services.html" class="nav-link text-white">Services</a>
                <a href="gallery.html" class="nav-link text-white">Gallery</a>
                <a href="bookings.html" class="nav-link text-orange-400 underline">Bookings</a>
                <a href="contact.html" class="nav-link text-white">Contact</a>
            </nav>
            <button id="mobile-menu-btn" class="md:hidden text-white focus:outline-none">
                <i class="fas fa-bars text-2xl"></i>
            </button>
        </div>
        <nav id="mobile-menu"
            class="md:hidden hidden flex flex-col items-center space-y-4 py-6 bg-purple-900 text-white">
            <a href="index.html" class="nav-link text-white">Home</a>
            <a href="destinations.html" class="nav-link text-white">Destinations</a>
            <a href="services.html" class="nav-link text-white">Services</a>
            <a href="gallery.html" class="nav-link text-white">Gallery</a>
            <a href="bookings.html" class="nav-link text-orange-400 underline">Bookings</a>
            <a href="contact.html" class="nav-link text-white">Contact</a>
        </nav>
    </header>

    <!-- Bookings Section -->
    <section class="container mx-auto py-20 px-6 text-center">
        <h2 id="bookings-title" class="text-4xl font-bold mb-6 text-white fade-in">Book Your Adventure</h2>
        <p id="bookings-text" class="mb-8 text-lg text-gray-200 fade-in" style="animation-delay: 0.2s">Let‚Äôs plan your
            dream trip with ease!</p>
        <div class="max-w-2xl mx-auto card p-8 rounded-xl shadow-2xl fade-in" style="animation-delay: 0.4s">
            <form id="booking-form" class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <input type="text" id="booking-customer" placeholder="Your Name"
                        class="border border-gray-300 p-3 rounded-md w-full focus:ring-2 focus:ring-orange-400 focus:outline-none transition-all">
                    <input type="email" id="booking-email" placeholder="Your Email"
                        class="border border-gray-300 p-3 rounded-md w-full focus:ring-2 focus:ring-orange-400 focus:outline-none transition-all">
                </div>
                <input type="tel" id="booking-mobile" placeholder="Mobile Number (e.g., +919876543210)"
                    class="border border-gray-300 p-3 rounded-md w-full focus:ring-2 focus:ring-orange-400 focus:outline-none transition-all"
                    pattern="^\+?[1-9]\d{9,14}$" title="Enter a valid mobile number">
                <textarea id="booking-address" placeholder="Your Address" rows="3"
                    class="border border-gray-300 p-3 rounded-md w-full focus:ring-2 focus:ring-orange-400 focus:outline-none transition-all"></textarea>
                <input type="file" id="booking-image" accept="image/*"
                    class="border border-gray-300 p-3 rounded-md w-full text-gray-600">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <select id="booking-destination"
                        class="border border-gray-300 p-3 rounded-md w-full focus:ring-2 focus:ring-orange-400 focus:outline-none transition-all">
                        <option value="">Select Destination</option>
                    </select>
                    <select id="booking-service"
                        class="border border-gray-300 p-3 rounded-md w-full focus:ring-2 focus:ring-orange-400 focus:outline-none transition-all">
                        <option value="">Select Service</option>
                    </select>
                </div>
                <div id="no-destinations" class="text-red-500 hidden">No destinations available.</div>
                <div id="no-services" class="text-red-500 hidden">No services available.</div>
                <input type="date" id="booking-date"
                    class="border border-gray-300 p-3 rounded-md w-full focus:ring-2 focus:ring-orange-400 focus:outline-none transition-all">
                <textarea id="booking-details" placeholder="Additional Details" rows="4"
                    class="border border-gray-300 p-3 rounded-md w-full focus:ring-2 focus:ring-orange-400 focus:outline-none transition-all"></textarea>
                <p id="booking-amount-display" class="text-lg font-semibold text-teal-600">Estimated Amount: ‚Çπ<span
                        id="amount-value">0</span></p>
                <button type="submit" class="btn-primary text-white px-6 py-3 rounded-lg font-semibold w-full">Submit
                    Booking</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gradient-to-r from-purple-900 to-blue-900 text-white text-center p-6">
        <div class="container mx-auto">
            <h3 class="text-xl font-bold">ChandanPrasad Travel</h3>
            <p class="mt-2">¬© 2025 ChandanPrasad Travel. All rights reserved.</p>
            <div class="flex justify-center space-x-6 mt-4">
                <a href="#" class="text-orange-400 hover:text-yellow-300 transition transform hover:scale-125"><i
                        class="fab fa-facebook-f"></i></a>
                <a href="#" class="text-orange-400 hover:text-yellow-300 transition transform hover:scale-125"><i
                        class="fab fa-twitter"></i></a>
                <a href="https://www.instagram.com/mr_chandan_prasad_indian"
                    class="text-orange-400 hover:text-yellow-300 transition transform hover:scale-125"><i
                        class="fab fa-instagram"></i></a>
                <a href="https://www.linkedin.com/in/mr-chandan-prasad1947"
                    class="text-orange-400 hover:text-yellow-300 transition transform hover:scale-125"><i
                        class="fab fa-linkedin-in"></i></a>
            </div>
            <p class="text-sm mt-4">üìç Kesarhatti, Karnataka, India</p>
            <p class="text-sm">üìû +91 8296724981 | ‚úâ <a href="mailto:support@chandanprasadtravels.com"
                    class="hover:text-orange-400">support@chandanprasadtravels.com</a></p>
            <a href="admin.html"
                class="mt-4 inline-block bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition transform hover:scale-105">Admin
                Login</a>
        </div>
    </footer>

    <script>
        // Mobile Menu Toggle
        const menuBtn = document.getElementById("mobile-menu-btn");
        const mobileMenu = document.getElementById("mobile-menu");
        const navItems = document.querySelectorAll(".nav-link");
        menuBtn.addEventListener("click", () => mobileMenu.classList.toggle("hidden"));
        navItems.forEach(item => item.addEventListener("click", () => mobileMenu.classList.add("hidden")));

        // Load Bookings Content and Populate Dropdowns
        function loadBookingsContent() {
            const bookingsContent = JSON.parse(localStorage.getItem('bookingsContent')) || {
                title: "Book Your Adventure",
                text: "Let‚Äôs plan your dream trip with ease!"
            };
            document.getElementById("bookings-title").innerHTML = bookingsContent.title;
            document.getElementById("bookings-text").innerHTML = bookingsContent.text;

            const destinations = JSON.parse(localStorage.getItem('destinations')) || [];
            const destSelect = document.getElementById('booking-destination');
            const noDestMsg = document.getElementById('no-destinations');
            if (destinations.length === 0) noDestMsg.classList.remove('hidden');
            else destinations.forEach(dest => {
                const option = document.createElement('option');
                option.value = dest.name;
                option.textContent = `${dest.name} (‚Çπ${(dest.price || 0).toLocaleString()})`;
                option.dataset.price = dest.price || 0;
                destSelect.appendChild(option);
            });

            const services = JSON.parse(localStorage.getItem('services')) || [];
            const servSelect = document.getElementById('booking-service');
            const noServMsg = document.getElementById('no-services');
            if (services.length === 0) noServMsg.classList.remove('hidden');
            else services.forEach(service => {
                const option = document.createElement('option');
                option.value = service.name;
                option.textContent = `${service.name} (‚Çπ${(service.price || 0).toLocaleString()})`;
                option.dataset.price = service.price || 0;
                servSelect.appendChild(option);
            });

            const updateAmount = () => {
                const destPrice = parseFloat(destSelect.selectedOptions[0]?.dataset.price || 0);
                const servPrice = parseFloat(servSelect.selectedOptions[0]?.dataset.price || 0);
                const totalAmount = destPrice + servPrice;
                document.getElementById('amount-value').textContent = totalAmount.toLocaleString();
            };
            destSelect.addEventListener('change', updateAmount);
            servSelect.addEventListener('change', updateAmount);
        }

        // Save Booking to localStorage
        document.getElementById('booking-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const customer = document.getElementById('booking-customer').value;
            const email = document.getElementById('booking-email').value;
            const mobile = document.getElementById('booking-mobile').value;
            const address = document.getElementById('booking-address').value;
            const imageFile = document.getElementById('booking-image').files[0];
            const destination = document.getElementById('booking-destination').value;
            const service = document.getElementById('booking-service').value;
            const date = document.getElementById('booking-date').value;
            const details = document.getElementById('booking-details').value;

            if (!customer || !email || !mobile || !address || !destination || !service || !date) {
                alert('Please fill in all required fields.');
                return;
            }

            const destPrice = parseFloat(document.getElementById('booking-destination').selectedOptions[0].dataset.price || 0);
            const servPrice = parseFloat(document.getElementById('booking-service').selectedOptions[0].dataset.price || 0);
            const amount = destPrice + servPrice;

            const bookings = JSON.parse(localStorage.getItem('bookings')) || [];
            const bookingData = { id: Date.now(), customer, email, mobile, address, destination, service, date, details, amount };

            if (imageFile) {
                const reader = new FileReader();
                reader.onload = function (event) {
                    bookingData.image = event.target.result;
                    bookings.push(bookingData);
                    localStorage.setItem('bookings', JSON.stringify(bookings));
                    document.getElementById('booking-form').reset();
                    document.getElementById('amount-value').textContent = '0';
                    alert('Booking submitted successfully!');
                };
                reader.readAsDataURL(imageFile);
            } else {
                bookings.push(bookingData);
                localStorage.setItem('bookings', JSON.stringify(bookings));
                document.getElementById('booking-form').reset();
                document.getElementById('amount-value').textContent = '0';
                alert('Booking submitted successfully!');
            }
        });

        // Initialize Page
        document.addEventListener('DOMContentLoaded', loadBookingsContent);
    </script>
</body>

</html>